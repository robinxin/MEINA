/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is an optimized version of Dojo, built for deployment and not for
	development. To get sources and documentation, please visit:

		http://dojotoolkit.org
*/

if(!dojo._hasResource["common.Cache"]){dojo._hasResource["common.Cache"]=true;dojo.provide("common.Cache");dojo.declare("common.Cache",null,{_cache:null,getCache:function(){if(!this._cache){this._cache=this.createCache();}return this._cache;},createCache:function(){},clearCache:function(){this._cache=null;delete this._cache;}});}if(!dojo._hasResource["common.Constant"]){dojo._hasResource["common.Constant"]=true;dojo.provide("common.Constant");common.Constant={Exception:{WARNNING:0,ERROR:1}};}if(!dojo._hasResource["dojo.dnd.common"]){dojo._hasResource["dojo.dnd.common"]=true;dojo.provide("dojo.dnd.common");dojo.getObject("dnd",true,dojo);dojo.dnd.getCopyKeyState=dojo.isCopyKey;dojo.dnd._uniqueId=0;dojo.dnd.getUniqueId=function(){var id;do{id=dojo._scopeName+"Unique"+(++dojo.dnd._uniqueId);}while(dojo.byId(id));return id;};dojo.dnd._empty={};dojo.dnd.isFormElement=function(e){var t=e.target;if(t.nodeType==3){t=t.parentNode;}return " button textarea input select option ".indexOf(" "+t.tagName.toLowerCase()+" ")>=0;};}if(!dojo._hasResource["common.Identity"]){dojo._hasResource["common.Identity"]=true;dojo.provide("common.Identity");dojo.declare("common.Identity",null,{idty:null,preIdt:null,getIdty:function(){if(!this.idty){this.idty=this.generateIdty();}return this.idty;},generateIdty:function(){var _1=dojo.dnd.getUniqueId();return this.preIdt?this.preIdt+"_"+_1:_1;}});}if(!dojo._hasResource["common.calc.Math"]){dojo._hasResource["common.calc.Math"]=true;dojo.provide("common.calc.Math");(function(){var _2=Math.exp(-12),_3=100000,_4=new Array();common.calc.Math={divide:function(_5,_6){var t1=0,t2=0,r1,r2;try{t1=_5.toString().split(".")[1].length;}catch(e){}try{t2=_6.toString().split(".")[1].length;}catch(e){}with(Math){r1=Number(_5.toString().replace(".",""));r2=Number(_6.toString().replace(".",""));return (r1/r2)*pow(10,t2-t1);}},multiply:function(_7,_8){var m=0,s1=_7.toString(),s2=_8.toString();try{m+=s1.split(".")[1].length;}catch(e){}try{m+=s2.split(".")[1].length;}catch(e){}return Number(s1.replace(".",""))*Number(s2.replace(".",""))/Math.pow(10,m);},add:function(_9,_a){var r1,r2,m;try{r1=_9.toString().split(".")[1].length;}catch(e){r1=0;}try{r2=_a.toString().split(".")[1].length;}catch(e){r2=0;}m=Math.pow(10,Math.max(r1,r2));return (_9*m+_a*m)/m;},subtract:function(_b,_c){var r1,r2,m,n;try{r1=_b.toString().split(".")[1].length;}catch(e){r1=0;}try{r2=_c.toString().split(".")[1].length;}catch(e){r2=0;}m=Math.pow(10,Math.max(r1,r2));n=(r1>=r2)?r1:r2;return ((_b*m-_c*m)/m).toFixed(n);},matMatMult:function(_d,_e){var m=_d.length,n=m>0?_e[0].length:0,m2=_e.length,_f=this.matrix(m,n),i,j,s,k;for(i=0;i<m;i++){for(j=0;j<n;j++){s=0;for(k=0;k<m2;k++){s+=_d[i][k]*_e[k][j];}_f[i][j]=s;}}return _f;},matrix:function(n,m,_10){var r,i,j;_10=_10||0;m=m||n;r=new Array(Math.ceil(n));for(i=0;i<n;i++){r[i]=new Array(Math.ceil(m));for(j=0;j<m;j++){r[i][j]=_10;}}return r;},matVecMult:function(mat,vec){var m=mat.length,n=vec.length,res=[],i,s,k;if(n===3){for(i=0;i<m;i++){res[i]=mat[i][0]*vec[0]+mat[i][1]*vec[1]+mat[i][2]*vec[2];}}else{for(i=0;i<m;i++){s=0;for(k=0;k<n;k++){s+=mat[i][k]*vec[k];}res[i]=s;}}return res;},quickHull:function(_11){var _12,_13;var _14,_15;for(var idx in _11){var pt=_11[idx];if(pt[0]>_12||!_12){_14=pt;_12=pt[0];}if(pt[0]<_13||!_13){_15=pt;_13=pt[0];}}var ch=[].concat(this.buildConvexHull([_15,_14],_11),this.buildConvexHull([_14,_15],_11));return ch;},buildConvexHull:function(_16,_17){_4.push(_16);var _18=new Array();var t=this.findMostDistantPointFromBaseLine(_16,_17);if(t.maxPoint.length){_18=_18.concat(this.buildConvexHull([_16[0],t.maxPoint],t.newPoints));_18=_18.concat(this.buildConvexHull([t.maxPoint,_16[1]],t.newPoints));return _18;}else{return [_16];}},getDistant:function(cpt,bl){var Vy=bl[1][0]-bl[0][0];var Vx=bl[0][1]-bl[1][1];return (Vx*(cpt[0]-bl[0][0])+Vy*(cpt[1]-bl[0][1]));},findMostDistantPointFromBaseLine:function(_19,_1a){var _1b=0;var _1c=new Array();var _1d=new Array();for(var idx in _1a){var pt=_1a[idx];var d=this.getDistant(pt,_19);if(d>0){_1d.push(pt);}else{continue;}if(d>_1b){_1b=d;_1c=pt;}}return {"maxPoint":_1c,"newPoints":_1d};},sgn:function(x){return Math.abs(x)<_2?0:(x>0?1:-1);},cross:function(q1,q2,p){return (p.x-q1.x)*(q2.y-q1.y)-(q2.x-q1.x)*(p.y-q1.y);},cmp:function(a,b){return (a.x<b.x||this.sgn(a.x-b.x)==0&&a.y<b.y);},swap:function(a,b){var _1e={};_1e.x=a.x;_1e.y=a.y;a.x=b.x;a.y=b.y;b.x=_1e.x;b.y=_1e.y;},getRandomPoints:function(_1f,_20,_21){var _22=new Array();var _23=Math.random()*Math.PI*2;for(var i=0;i<_1f/2;i++){var r=Math.random()*_20/4;var _24=Math.random()*1.5*Math.PI+_23;_22.push([_20/4+r*Math.cos(_24),_21/2+2*r*Math.sin(_24)]);}var _23=Math.random()*Math.PI*2;for(var i=0;i<_1f/2;i++){var r=Math.random()*_20/4;var _24=Math.random()*1.5*Math.PI+_23;_22.push([_20/4*3+r*Math.cos(_24),_21/2+r*Math.sin(_24)]);}return _22;}};})();}if(!dojo._hasResource["common.utils.CollectionUtils"]){dojo._hasResource["common.utils.CollectionUtils"]=true;dojo.provide("common.utils.CollectionUtils");common.utils.CollectionUtils={sliceRange:function(_25,_26,_27){var _28=[],end=(_26+_27>_25.length-1)?_25.length-1:_26+_27;for(;end>=_26;end--){_28[--_27]=_25[end];}return _28;},copy4Attrs:function(_29,to,_2a){for(var _2b in _29){if((_2a&&_2a[_2b])||(typeof _29[_2b]=="function")){continue;}to[_2b]=_29[_2b];}},hasAttr:function(o){var has=false;for(var _2c in o){has=true;}return has;}};}if(!dojo._hasResource["common.calc.Geometry"]){dojo._hasResource["common.calc.Geometry"]=true;dojo.provide("common.calc.Geometry");(function(){var _2d=common.calc.Math,_2e=common.utils.CollectionUtils;common.calc.Geometry={add2Points:function(p1,p2){return {x:p1.x+p2.x,y:p1.y+p2.y};},subtract2Points:function(p1,p2){return {x:p1.x-p2.x,y:p1.y-p2.y};},multiPoint:function(p1,_2f){var np=[],_30=_2e.copy4Attrs,_31;(!dojo.isArray(p1))&&(p1=[p1]);dojo.forEach(p1,function(_32){_31={x:_32.x*_2f.x,y:_32.y*_2f.y};_30(_32,_31,{x:1,y:1});np.push(_31);},this);return np;},dividePoint:function(p1,_33){var np=[],_34=_2e.copy4Attrs,_35;(!dojo.isArray(p1))&&(p1=[p1]);dojo.forEach(p1,function(_36){_35={x:_36.x/_33.x,y:_36.y/_33.y};_34(_36,_35,{x:1,y:1});np.push(_35);},this);return np;},getDistant:function(p1,p2){if(p1.x==p2.x){return Math.abs(p2.y-p1.y);}if(p1.y==p2.y){return Math.abs(p2.x-p1.x);}return Math.sqrt(Math.pow((p1.x-p2.x),2)+Math.pow((p1.y-p2.y),2));},equals4Ps:function(p1,p2){if(p1.x==p2.x&&p1.y==p2.y){return true;}return false;},getExtremePoints:function(_37){var _38,_39,_3a,_3b;dojo.forEach(_37,function(_3c){dojo.forEach(_3c,function(ps){if(_38===undefined){_38=_3a=ps.x;_39=_3b=ps.y;return;}(ps.x>_38)&&(_38=ps.x);(ps.x<_3a)&&(_3a=ps.x);(ps.y>_39)&&(_39=ps.y);(ps.y<_3b)&&(_3b=ps.y);},this);},this);return {minX:_3a,maxX:_38,minY:_3b,maxY:_39};},getMaxRect:function(_3d){var _3e,_3f,_40,_41;dojo.forEach(_3d,function(_42){dojo.forEach(_42,function(ps){if(_3e===undefined){_3e=_40=ps.x;_3f=_41=ps.y;return;}(ps.x>_3e)&&(_3e=ps.x);(ps.x<_40)&&(_40=ps.x);(ps.y>_3f)&&(_3f=ps.y);(ps.y<_41)&&(_41=ps.y);},this);},this);return {x:_40,y:_41,width:_3e-_40,height:_3f-_41};},angle:function(A,B,C){return this.rad(A,B,C)*57.29577951308232;},rad:function(A,B,C){var ax=A.x,ay=A.y,bx=B.x,by=B.y,cx=C.x,cy=C.y,phi;phi=Math.atan2(cy-by,cx-bx)-Math.atan2(ay-by,ax-bx);if(phi<0){phi+=6.283185307179586;}return phi;},rotation:function(_43,_44,_45){var x0=_43.x-_44.x,y0=_43.y-_44.y,_45=3.1415916*_45/180,c=Math.cos(_45),s=Math.sin(_45),x1=x0*c-y0*s+_44.x,y1=x0*s+y0*c+_44.y;return {x:x1,y:y1};},isPointInRect:function(q1,q2,p){var min=Math.min,max=Math.max;if(min(q1.x,q2.x)<=p.x&&p.x<=max(q1.x,q2.x)&&min(q1.y,q2.y)<=p.y&&p.y<=max(q1.y,q2.y)){return true;}return false;if(coordinate.x<rect.coordinate.x||coordinate.y<rect.coordinate.y||coordinate.x>rect.coordinate.x+rect.w||coordinate.y>rect.coordinate.y+rect.h){return false;}return true;},isPointInCircle:function(_46,_47){var _48=this.getDistant(_46,_47.coordinate);if(_48<=_47.r){return true;}return false;},isPointInSegment:function(q1,q2,p){if(_2d.cross(q1,q2,p)!=0){return false;}return this.isPointInRect(q1,q2,p);},isPointInPolyn:function(_49,pt){for(var c=false,i=-1,l=_49.length,j=l-1;++i<l;j=i){((_49[i].y<=pt.y&&pt.y<_49[j].y)||(_49[j].y<=pt.y&&pt.y<_49[i].y))&&(pt.x<(_49[j].x-_49[i].x)*(pt.y-_49[i].y)/(_49[j].y-_49[i].y)+_49[i].x)&&(c=!c);}return c;},graphContainsGraph:function(_4a,_4b){var _4c=this.getExtremePoints(_4a),_4d=this.getExtremePoints(_4b);if(_4c.minX>_4d.minX&&_4c.minY>_4d.minY&&_4c.maxX<_4d.maxX&&_4c.maxY<_4d.maxY){return true;}return false;},intersectRectRect:function(_4e,_4f){var _50=_4e.x,_51=_4e.y,_52=_50+_4e.width,_53=_51+_4e.height,_54=_4f.x,_55=_4f.y,_56=_54+_4f.width,_57=_55+_4f.height;if(_52==undefined||_53==undefined||_56==undefined||_57==undefined){return false;}var xs=(_50>_52)?{min:_52,max:_50}:{min:_50,max:_52},ys=(_51>_53)?{min:_53,max:_51}:{min:_51,max:_53},_58=(_54>_56)?{min:_56,max:_54}:{min:_54,max:_56},_59=(_55>_57)?{min:_57,max:_55}:{min:_55,max:_57};if(xs.min>_58.max||ys.min>_59.max||xs.max<_58.min||ys.max<_59.min){return false;}return true;},intersectLineLine:function(_5a,_5b){var A=_5a.x,B=_5a.y,C=_5b.x,D=_5b.y,d0,d1,den,x,y;d0=A[1]*B[2]-A[2]*B[1];d1=C[1]*D[2]-C[2]*D[1];den=(B[2]-A[2])*(C[1]-D[1])-(A[1]-B[1])*(D[2]-C[2]);if(Math.abs(den)<Math.E){den=Math.E;}x=(d0*(C[1]-D[1])-d1*(A[1]-B[1]))/den;y=(d1*(B[2]-A[2])-d0*(D[2]-C[2]))/den;return {x:x,y:y};},isHorizontal:function(p1,p2){if(p1.x==p2.x){return true;}return false;},isVertical:function(p1,p2){if(p1.y==p2.y){return true;}return false;},vdistP2Lin:function(c1,c2,c0){var a=180-this.angle(c1,c2,c0),d=this.getDistant(c2,c0);return {x:Math.cos(a)*d,y:Math.sin(a)*d};},distP2Line:function(c1,c2,c0){var _5c=0,_5d=this.getDistant,a=_5d(c1,c2),b=_5d(c1,c0),c=_5d(c2,c0),p,s;if(c<=0.000001||b<=0.000001){_5c=0;return _5c;}if(a<=0.000001){_5c=b;return _5c;}if(c*c>=a*a+b*b){_5c=b;return _5c;}if(b*b>=a*a+c*c){_5c=c;return _5c;}p=(a+b+c)>>1;s=Math.sqrt(p*(p-a)*(p-b)*(p-c));_5c=2*s/a;return _5c;},intersectCircleLine:function(c1,r,l1,l2){var s,d0,d1,b,w,h,r,n1,dx,dy,_5e,_5f,l,x,y,n1s,_60,_61,d,_62=this.getDistant;s=_62(l1,l2);if(s>0){d0=_62(c1,l1);d1=_62(c1,l2);b=((d0*d0)+(s*s)-(d1*d1))/(2*s);w=(d0*d0)-(b*b);w=(w<0)?0:w;h=Math.sqrt(w);n1=Math.sqrt((r*r)-h*h);dx=l2.x-l1.x;dy=l2.y-l1.y;_5e=c1.x+(h/s)*dy;_5f=c1.y-(h/s)*dx;d0=(l2.x*dy)-(l2.y*dx);d1=(_5e*dx)+(_5f*dy);l=(dy*dy)+(dx*dx);if(Math.abs(l)<Math.E){l=Math.E;}x=((d0*dy)+(d1*dx))/l;y=((d1*dy)-(d0*dx))/l;n1s=n1/s;_60={x:x+n1s*dx,y:y+n1s*dy};_61={x:x-n1s*dx,y:y-n1s*dy};d=_62(c1,_60);if((r<(d-1))||isNaN(d)){return [];}else{return [_60,_61];}}return [];}};})();}if(!dojo._hasResource["common.command.Command"]){dojo._hasResource["common.command.Command"]=true;dojo.provide("common.command.Command");dojo.declare("common.command.Command",null,{execute:function(){},unexecute:function(){}});}if(!dojo._hasResource["common.container.ListContainer"]){dojo._hasResource["common.container.ListContainer"]=true;dojo.provide("common.container.ListContainer");dojo.declare("common.container.ListContainer",null,{list:null,constructor:function(){this.list=new dojox.collections.ArrayList();},getList:function(){return this.list.toArray();},contains:function(_63){if(this.list.contains(_63)){return true;}return false;},get:function(_64){return this.list.item(_64);},add:function(_65){if(!this.contains(_65)){this.list.add(_65);}},remove:function(_66){var _67=this.list;if(typeof _66=="object"){this.list.remove(_66);return;}if(_66>_67.count-1){return;}this.list.removeAt(_66);},insert:function(_68,_69){this.list.insert(_68,_69);},pop:function(){var _6a=this.list,obj;if(_6a.count==0){return null;}obj=_6a.item(_6a.count-1);_6a.removeAt(_6a.count-1);return obj;},shift:function(){var _6b=this.list,obj;if(_6b.count==0){return null;}obj=_6b.item(0);_6b.removeAt(0);return obj;},first:function(){var _6c=this.list,obj;if(_6c.count==0){return null;}obj=_6c.item(0);return obj;},last:function(){var _6d=this.list,obj;if(_6d.count==0){return null;}obj=_6d.item(_6d.count-1);return obj;},size:function(){return this.list.count;},indexOf:function(_6e){return this.list.indexOf(_6e);},move:function(_6f,_70){var _71=this.get(_6f);this.remove(_6f);this.insert(_70,_71);},clearItems:function(){this.list.clear();},forInItems:function(f,o,_72){if(!f){return;}o=o||this;var _73=this.list.toArray();dojo.forEach(_72?_73.reverse():_73,f,o);},some:function(f,o,_74){if(!f){return;}o=o||this;var _75=this.list.toArray();dojo.some(_74?_75.reverse():_75,f,o);},concat:function(_76){this.list.addRange(_76);}});}if(!dojo._hasResource["common.container.MapContainer"]){dojo._hasResource["common.container.MapContainer"]=true;dojo.provide("common.container.MapContainer");dojo.declare("common.container.MapContainer",null,{map:null,multiple:false,constructor:function(){this.map={};},contains:function(key){if(this.map[key]){return true;}return false;},getItem:function(key){return this.map[key];},addItem:function(key,_77){var _78=this.map[key];if(!_78||!this.multiple){this.map[key]=_77;return;}!dojo.isArray(_78)&&(_78=[_78]);_78.concat(_77);this.map[key]=_78;},removeItem:function(key,_79){var _7a=this.map[key];if(!this.multiple||!dojo.isArray(_7a)){delete this.map[key];return;}_7a.remove(_79);},clearItems:function(){this.map=null;this.map={};},forInItems:function(f,o){if(!f){return;}o=o||this;var map=this.map;for(var _7b in map){if(f.call(o,map[_7b],_7b,this)===false){break;}}}});}if(!dojo._hasResource["common.exception.Exception"]){dojo._hasResource["common.exception.Exception"]=true;dojo.provide("common.exception.Exception");dojo.declare("common.exception.Exception",dijit._Widget,{msg:"",type:common.Constant.Exception.WARNNING,postCreate:function(){var _7c=common.Constant.Exception,msg=this.msg;switch(this.type){case _7c.WARNNING:this.printMessage();break;case _7c.ERROR:this.throwMessage();break;}},throwMessage:function(msg){throw msg;},printMessage:function(msg){}});}if(!dojo._hasResource["common.listener.Listener"]){dojo._hasResource["common.listener.Listener"]=true;dojo.provide("common.listener.Listener");dojo.declare("common.listener.Listener",null,{_listeners:null,constructor:function(){this._listeners=new dojox.collections.ArrayList();},containsListener:function(_7d){if(this._listeners.contains(_7d)){return true;}return false;},addListener:function(_7e,env){var _7f={funct:_7e,env:env};if(!this.containsListener(_7f)){this._listeners.add(_7f);}},fireListener:function(_80){this.forInListeners(function(_81,_82){_81.funct.apply(_81.env||window,_80||[]);},this);},removeListener:function(env){this.forInListeners(function(_83,_84){if(_83.env==env){this.remove(_84);}},this,true);},forInListeners:function(f,o,_85){if(!f){return;}o=o||this;var _86=this._listeners.toArray();dojo.forEach(_85?_86.reverse():_86,f,o);},clear:function(){this._listeners.clear();}});}if(!dojo._hasResource["common.utils.BrowerUtils"]){dojo._hasResource["common.utils.BrowerUtils"]=true;dojo.provide("common.utils.BrowerUtils");common.utils.BrowerUtils={copyClipboard:function(txt){if(window.clipboardData){window.clipboardData.clearData();window.clipboardData.setData("Text",txt);}else{if(navigator.userAgent.indexOf("Opera")!=-1){window.location=txt;}else{if(window.netscape){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");}catch(e){alert("���firefox��ȫ������������м�����������򿪡�about:config����  signed.applets.codebase_principal_support������Ϊtrue��֮�����ԣ����·��Ϊfirefox��Ŀ¼ /greprefs/all.js");return false;}var _87=Components.classes["@mozilla.org/widget/clipboard;1"].createInstance(Components.interfaces.nsIClipboard);if(!_87){return;}var _88=Components.classes["@mozilla.org/widget/transferable;1"].createInstance(Components.interfaces.nsITransferable);if(!_88){return;}_88.addDataFlavor("text/unicode");var str=new Object();var len=new Object();var str=Components.classes["@mozilla.org/supports-string;1"].createInstance(Components.interfaces.nsISupportsString);var _89=txt;str.data=_89;_88.setTransferData("text/unicode",str,_89.length*2);var _8a=Components.interfaces.nsIClipboard;if(!_87){return false;}_87.setData(_88,null,_8a.kGlobalClipboard);}}}},getWindowBox:function(){return viewport=dojo.window.getBox();}};}if(!dojo._hasResource["common.utils.CodeUtils"]){dojo._hasResource["common.utils.CodeUtils"]=true;dojo.provide("common.utils.CodeUtils");common.utils.CodeUtils={toUnicode:function(s){var res=[];var len=s.length-1;while(len>-1){var ch=s.charCodeAt(len--);if(!isNaN(ch)){res.push(ch);}}res.push("");return res.reverse().join("&#");},toUnicode2:function(s){var res=[];var len=s.length-1;while(len>-1){var ch=s.charCodeAt(len--);if(!isNaN(ch)){ch=ch.toString(16);switch(ch.length){case 4:chch=ch;break;case 3:ch="0"+ch;break;case 2:ch="00"+ch;break;case 1:ch="000"+ch;break;default:ch=null;}if(ch!=null){res.push(ch);}}}res.push("");return res.reverse().join("\\u");},toGBK:function(s){var res=[""];if(s.indexOf("&#")===0){for(var i=1,cs=s.split("&#"),len=cs.length;i<len;i++){res.push(String.fromCharCode(cs[i]));}return res.join("");}else{if(s.indexOf("\\u")===0){for(var i=1,cs=s.split("\\u"),len=cs.length;i<len;i++){res.push(String.fromCharCode(parseInt(cs[i],16)));}return res.join("");}}return "";}};}
