/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["common.calc.Math"]){dojo._hasResource["common.calc.Math"]=true;dojo.provide("common.calc.Math");(function(){var _1=Math.exp(-12),_2=100000,_3=new Array();common.calc.Math={divide:function(_4,_5){var t1=0,t2=0,r1,r2;try{t1=_4.toString().split(".")[1].length;}catch(e){}try{t2=_5.toString().split(".")[1].length;}catch(e){}with(Math){r1=Number(_4.toString().replace(".",""));r2=Number(_5.toString().replace(".",""));return (r1/r2)*pow(10,t2-t1);}},multiply:function(_6,_7){var m=0,s1=_6.toString(),s2=_7.toString();try{m+=s1.split(".")[1].length;}catch(e){}try{m+=s2.split(".")[1].length;}catch(e){}return Number(s1.replace(".",""))*Number(s2.replace(".",""))/Math.pow(10,m);},add:function(_8,_9){var r1,r2,m;try{r1=_8.toString().split(".")[1].length;}catch(e){r1=0;}try{r2=_9.toString().split(".")[1].length;}catch(e){r2=0;}m=Math.pow(10,Math.max(r1,r2));return (_8*m+_9*m)/m;},subtract:function(_a,_b){var r1,r2,m,n;try{r1=_a.toString().split(".")[1].length;}catch(e){r1=0;}try{r2=_b.toString().split(".")[1].length;}catch(e){r2=0;}m=Math.pow(10,Math.max(r1,r2));n=(r1>=r2)?r1:r2;return ((_a*m-_b*m)/m).toFixed(n);},matMatMult:function(_c,_d){var m=_c.length,n=m>0?_d[0].length:0,m2=_d.length,_e=this.matrix(m,n),i,j,s,k;for(i=0;i<m;i++){for(j=0;j<n;j++){s=0;for(k=0;k<m2;k++){s+=_c[i][k]*_d[k][j];}_e[i][j]=s;}}return _e;},matrix:function(n,m,_f){var r,i,j;_f=_f||0;m=m||n;r=new Array(Math.ceil(n));for(i=0;i<n;i++){r[i]=new Array(Math.ceil(m));for(j=0;j<m;j++){r[i][j]=_f;}}return r;},matVecMult:function(mat,vec){var m=mat.length,n=vec.length,res=[],i,s,k;if(n===3){for(i=0;i<m;i++){res[i]=mat[i][0]*vec[0]+mat[i][1]*vec[1]+mat[i][2]*vec[2];}}else{for(i=0;i<m;i++){s=0;for(k=0;k<n;k++){s+=mat[i][k]*vec[k];}res[i]=s;}}return res;},quickHull:function(_10){var _11,_12;var _13,_14;for(var idx in _10){var pt=_10[idx];if(pt[0]>_11||!_11){_13=pt;_11=pt[0];}if(pt[0]<_12||!_12){_14=pt;_12=pt[0];}}var ch=[].concat(this.buildConvexHull([_14,_13],_10),this.buildConvexHull([_13,_14],_10));return ch;},buildConvexHull:function(_15,_16){_3.push(_15);var _17=new Array();var t=this.findMostDistantPointFromBaseLine(_15,_16);if(t.maxPoint.length){_17=_17.concat(this.buildConvexHull([_15[0],t.maxPoint],t.newPoints));_17=_17.concat(this.buildConvexHull([t.maxPoint,_15[1]],t.newPoints));return _17;}else{return [_15];}},getDistant:function(cpt,bl){var Vy=bl[1][0]-bl[0][0];var Vx=bl[0][1]-bl[1][1];return (Vx*(cpt[0]-bl[0][0])+Vy*(cpt[1]-bl[0][1]));},findMostDistantPointFromBaseLine:function(_18,_19){var _1a=0;var _1b=new Array();var _1c=new Array();for(var idx in _19){var pt=_19[idx];var d=this.getDistant(pt,_18);if(d>0){_1c.push(pt);}else{continue;}if(d>_1a){_1a=d;_1b=pt;}}return {"maxPoint":_1b,"newPoints":_1c};},sgn:function(x){return Math.abs(x)<_1?0:(x>0?1:-1);},cross:function(q1,q2,p){return (p.x-q1.x)*(q2.y-q1.y)-(q2.x-q1.x)*(p.y-q1.y);},cmp:function(a,b){return (a.x<b.x||this.sgn(a.x-b.x)==0&&a.y<b.y);},swap:function(a,b){var _1d={};_1d.x=a.x;_1d.y=a.y;a.x=b.x;a.y=b.y;b.x=_1d.x;b.y=_1d.y;},getRandomPoints:function(_1e,_1f,_20){var _21=new Array();var _22=Math.random()*Math.PI*2;for(var i=0;i<_1e/2;i++){var r=Math.random()*_1f/4;var _23=Math.random()*1.5*Math.PI+_22;_21.push([_1f/4+r*Math.cos(_23),_20/2+2*r*Math.sin(_23)]);}var _22=Math.random()*Math.PI*2;for(var i=0;i<_1e/2;i++){var r=Math.random()*_1f/4;var _23=Math.random()*1.5*Math.PI+_22;_21.push([_1f/4*3+r*Math.cos(_23),_20/2+r*Math.sin(_23)]);}return _21;}};})();}