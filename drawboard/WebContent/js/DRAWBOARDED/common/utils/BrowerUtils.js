/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["common.utils.BrowerUtils"]){dojo._hasResource["common.utils.BrowerUtils"]=true;dojo.provide("common.utils.BrowerUtils");(function(){var _1=null;common.utils.BrowerUtils={browerType:null,copyClipboard:function(_2){if(window.clipboardData){window.clipboardData.clearData();window.clipboardData.setData("Text",_2);}else{if(navigator.userAgent.indexOf("Opera")!=-1){window.location=_2;}else{if(window.netscape){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");}catch(e){alert("���firefox��ȫ������������м�����������򿪡�about:config����  signed.applets.codebase_principal_support������Ϊtrue��֮�����ԣ����·��Ϊfirefox��Ŀ¼ /greprefs/all.js");return false;}var _3=Components.classes["@mozilla.org/widget/clipboard;1"].createInstance(Components.interfaces.nsIClipboard);if(!_3){return;}var _4=Components.classes["@mozilla.org/widget/transferable;1"].createInstance(Components.interfaces.nsITransferable);if(!_4){return;}_4.addDataFlavor("text/unicode");var _5=new Object();var _6=new Object();var _5=Components.classes["@mozilla.org/supports-string;1"].createInstance(Components.interfaces.nsISupportsString);var _7=_2;_5.data=_7;_4.setTransferData("text/unicode",_5,_7.length*2);var _8=Components.interfaces.nsIClipboard;if(!_3){return false;}_3.setData(_4,null,_8.kGlobalClipboard);}}}},getWindowBox:function(){return viewport=dojo.window.getBox();},getFontNode:function(){if(!_1){_1=document.createElement("div");document.body.appendChild(_1);}return _1;},getFontHeight:function(_9,_a){var s="padding:0;visibility:hidden;position:absolute;top:10000000px;",h;s+=_a;dojo.attr(this.getFontNode(),"style",s);_1.innerHTML=_9;h=_1.offsetHeight;_1.innerHTML="";return h;},getBrowerType:function(){if(!this.browerType){var _b={},ua=navigator.userAgent.toLowerCase(),s;(s=ua.match(/msie ([\d.]+)/))?_b.ie=s[1]:(s=ua.match(/firefox\/([\d.]+)/))?_b.firefox=s[1]:(s=ua.match(/chrome\/([\d.]+)/))?_b.chrome=s[1]:(s=ua.match(/opera.([\d.]+)/))?_b.opera=s[1]:(s=ua.match(/version\/([\d.]+).*safari/))?_b.safari=s[1]:0;this.browerType=_b;}return this.browerType;}};})();}